tosca_definitions_version: cloudify_dsl_1_3

description: >
  Blueprint which provides the various controller queue inheritance options

imports:
  - resources/types.yaml

node_templates:

  controller:
    type: cloudify.nodes.Controller
    properties:
      controller_queue: controller

  host_none:
    type: cloudify.nodes.Compute

  host:
    type: cloudify.nodes.Compute
    properties:
      controller_queue: father_host

  connected_host:
    type: cloudify.nodes.Compute
    relationships:
      - target: controller
        type: cloudify.relationships.connected_to

  contained_node:
    type: cloudify.nodes.Compute
    relationships:
      - target: host
        type: cloudify.relationships.contained_in
      - target: controller
        type: cloudify.relationships.connected_to

  dierct:
    type: cloudify.nodes.Compute
    properties:
      controller_queue: direct

  direct_override:
    type: cloudify.nodes.Compute
    properties:
      controller_queue: direct_override
    relationships:
      - target: controller
        type: cloudify.relationships.connected_to